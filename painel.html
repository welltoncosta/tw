<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2300FF00' d='M13 2.03v2.02c4.39.54 7.5 4.53 6.96 8.92c-.46 3.64-3.32 6.53-6.96 6.96v2c5.5-.55 9.5-5.43 8.95-10.93c-.45-4.75-4.22-8.5-8.95-8.97m-2 .03c-1.95.19-3.81.94-5.33 2.2L7.1 5.74c1.12-.9 2.47-1.48 3.9-1.68v-2M4.26 5.67A9.885 9.885 0 0 0 2.05 11h2c.19-1.42.75-2.77 1.64-3.9L4.26 5.67M2.06 13c.2 1.96.97 3.81 2.21 5.33l1.42-1.43A8.002 8.002 0 0 1 4.06 13h-2m5.04 5.37l-1.43 1.37A9.994 9.994 0 0 0 11 22v-2a8.002 8.002 0 0 1-3.9-1.63m9.33-12.37l-1.59 1.59L16 10l-4-4V3l-1 1l4 4l.47-.53l-1.53-1.53l1.59-1.59l.94.94z'/%3E%3C/svg%3E" type="image/svg+xml">
    <title>Painel do Participante - 1¬™ TechWeek</title>
    <link href='https://fonts.googleapis.com/css?family=Montserrat:400,500,600,700' rel='stylesheet'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --black: #000000;
            --neon-green: #00FF00;
            --tech-green: #00BF63;
            --light-gray: #D9D9D9;
            --white: #FFFFFF;
            --dark-gray: #1A1A1A;
            --bg-color: #000000;
            --text-color: #FFFFFF;
            --card-bg: rgba(26, 26, 26, 0.7);
            --border-color: #00BF63;
            --accent-color: #00BF63;
            --accent-hover: #00FF00;
            --error-color: #ff4d4d;
            --success-color: #00cc66;
        }
        
        .light-theme {
            --bg-color: #f8f9fa;
            --text-color: #2d3748;
            --card-bg: rgba(255, 255, 255, 0.95);
            --border-color: #2d7d5a;
            --black: #ffffff;
            --light-gray: #718096;
            --dark-gray: #e2e8f0;
            --accent-color: #2d7d5a;
            --accent-hover: #38a169;
            --neon-green: #2d7d5a;
            --tech-green: #38a169;
            --error-color: #e53e3e;
            --success-color: #38a169;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Montserrat', sans-serif;
            transition: background-color 0.3s, color 0.3s, border-color 0.3s;
        }
        
        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            overflow-x: hidden;
            position: relative;
            font-size: 16px;
        }
        
        body::before {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 10% 20%, rgba(0, 191, 99, 0.1) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(0, 255, 0, 0.1) 0%, transparent 20%);
            pointer-events: none;
            z-index: -1;
        }
        
        .light-theme body::before {
            background: 
                radial-gradient(circle at 10% 20%, rgba(45, 125, 90, 0.05) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(56, 161, 105, 0.05) 0%, transparent 20%);
        }
        
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }
        
        /* Header */
        header {
            background-color: var(--black);
            padding: 12px 0;
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 1px solid var(--border-color);
            box-shadow: 0 0 15px rgba(0, 255, 0, 0.2);
        }
        
        .light-theme header {
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .logo {
            display: flex;
            align-items: center;
        }
        
        .logo img {
            height: 100px;
            transition: all 0.3s ease;
        }
        
        .logo-dark {
            display: block;
        }
        
        .logo-light {
            display: none;
        }
        
        .light-theme .logo-dark {
            display: none;
        }
        
        .light-theme .logo-light {
            display: block;
        }
        
        .logo:hover img {
            filter: drop-shadow(0 0 8px var(--accent-color));
        }
        
        .event-title {
            margin-left: 12px;
        }
        
        .event-title h1 {
            font-size: 1rem;
            font-weight: 700;
            color: var(--text-color);
            line-height: 1.3;
        }
        
        .event-title span {
            color: var(--accent-color);
            font-weight: 600;
            font-size: 0.9rem;
        }
        
        .header-controls {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .theme-toggle {
            background: none;
            border: none;
            color: var(--accent-color);
            font-size: 1.2rem;
            cursor: pointer;
            padding: 8px;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }
        
        .theme-toggle:hover {
            background-color: rgba(45, 125, 90, 0.15);
        }
        
        .user-menu {
            position: relative;
        }
        
        .user-btn {
            background: linear-gradient(45deg, var(--tech-green), var(--neon-green));
            color: var(--black);
            border: none;
            border-radius: 50px;
            padding: 10px 20px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .light-theme .user-btn {
            background: linear-gradient(45deg, var(--accent-color), var(--accent-hover));
            color: white;
        }
        
        .user-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 10px;
            min-width: 200px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            display: none;
            z-index: 100;
        }
        
        .user-dropdown.active {
            display: block;
        }
        
        .user-dropdown a {
            display: block;
            color: var(--text-color);
            text-decoration: none;
            padding: 10px;
            border-radius: 4px;
            transition: all 0.3s ease;
        }
        
        .user-dropdown a:hover {
            background-color: rgba(0, 191, 99, 0.2);
            color: var(--neon-green);
        }
        
        .light-theme .user-dropdown a:hover {
            background-color: rgba(45, 125, 90, 0.15);
            color: var(--accent-color);
        }
        
        /* Menu */
        .menu-toggle {
            display: block;
            background: none;
            border: none;
            color: var(--accent-color);
            font-size: 1.5rem;
            cursor: pointer;
            padding: 8px;
            border-radius: 4px;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .menu-toggle:hover {
            background-color: rgba(45, 125, 90, 0.15);
        }
        
        .menu {
            display: none;
            flex-direction: column;
            width: 100%;
            list-style: none;
            background-color: var(--black);
            position: absolute;
            top: 100%;
            left: 0;
            z-index: 100;
            padding: 10px 0;
            border-top: 1px solid var(--border-color);
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.5);
        }
        
        .light-theme .menu {
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
        }
        
        .menu.active {
            display: flex;
        }
        
        .menu li {
            width: 100%;
        }
        
        .menu a {
            color: var(--text-color);
            text-decoration: none;
            font-weight: 600;
            padding: 12px 20px;
            display: block;
            transition: all 0.3s ease;
            position: relative;
            font-size: 1.1rem;
        }
        
        .menu a:hover {
            background-color: rgba(45, 125, 90, 0.15);
            color: var(--accent-color);
        }
        
        .menu a.vermelho {
            color: var(--accent-color);
            font-weight: 700;
        }
        
        /* Main Content */
        .main-content {
            padding: 40px 0;
        }
        
        .welcome-section {
            text-align: center;
            margin-bottom: 40px;
        }
        
        .welcome-section h1 {
            font-size: 2.5rem;
            margin-bottom: 15px;
            color: var(--neon-green);
        }
        
        .light-theme .welcome-section h1 {
            color: var(--accent-color);
        }
        
        .welcome-section p {
            font-size: 1.2rem;
            color: var(--light-gray);
            max-width: 800px;
            margin: 0 auto;
        }
        
        .dashboard-cards {
            display: grid;
            grid-template-columns: 1fr;
            gap: 25px;
            margin-bottom: 40px;
        }
        
        @media (min-width: 768px) {
            .dashboard-cards {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (min-width: 992px) {
            .dashboard-cards {
                grid-template-columns: repeat(3, 1fr);
            }
        }
        
        .dashboard-card {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 10px;
            padding: 25px;
            text-align: center;
            transition: all 0.3s ease;
            box-shadow: 0 0 15px rgba(0, 191, 99, 0.1);
        }
        
        .light-theme .dashboard-card {
            box-shadow: 0 0 15px rgba(45, 125, 90, 0.1);
        }
        
        .dashboard-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 0 25px rgba(0, 255, 0, 0.3);
            border-color: var(--neon-green);
        }
        
        .light-theme .dashboard-card:hover {
            box-shadow: 0 0 25px rgba(45, 125, 90, 0.2);
            border-color: var(--accent-color);
        }
        
        .dashboard-card i {
            font-size: 2.5rem;
            color: var(--neon-green);
            margin-bottom: 15px;
        }
        
        .light-theme .dashboard-card i {
            color: var(--accent-color);
        }
        
        .dashboard-card h3 {
            color: var(--text-color);
            margin-bottom: 12px;
            font-size: 1.4rem;
        }
        
        .dashboard-card p {
            color: var(--light-gray);
            margin-bottom: 20px;
        }
        
        .dashboard-card .btn {
            display: inline-block;
            background: linear-gradient(45deg, var(--tech-green), var(--neon-green));
            color: var(--black);
            border: none;
            border-radius: 5px;
            padding: 10px 20px;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.3s ease;
        }
        
        .light-theme .dashboard-card .btn {
            background: linear-gradient(45deg, var(--accent-color), var(--accent-hover));
            color: white;
        }
        
        .dashboard-card .btn:hover {
            background: linear-gradient(45deg, var(--neon-green), var(--tech-green));
            box-shadow: 0 0 10px rgba(0, 255, 0, 0.5);
        }
        
        .light-theme .dashboard-card .btn:hover {
            background: linear-gradient(45deg, var(--accent-hover), var(--accent-color));
            box-shadow: 0 0 10px rgba(45, 125, 90, 0.3);
        }
        
        /* User Info Section */
        .user-info {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 40px;
            box-shadow: 0 0 15px rgba(0, 191, 99, 0.1);
        }
        
        .light-theme .user-info {
            box-shadow: 0 0 15px rgba(45, 125, 90, 0.1);
        }
        
        .user-info h2 {
            color: var(--neon-green);
            margin-bottom: 20px;
            font-size: 1.8rem;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--border-color);
        }
        
        .light-theme .user-info h2 {
            color: var(--accent-color);
        }
        
        .info-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
        }
        
        @media (min-width: 768px) {
            .info-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        .info-item {
            display: flex;
            flex-direction: column;
        }
        
        .info-label {
            font-weight: 600;
            color: var(--neon-green);
            margin-bottom: 5px;
            font-size: 0.9rem;
        }
        
        .light-theme .info-label {
            color: var(--accent-color);
        }
        
        .info-value {
            color: var(--text-color);
            font-size: 1.1rem;
        }
        
        /* Form Styles */
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: var(--neon-green);
            font-weight: 600;
        }
        
        .light-theme .form-group label {
            color: var(--accent-color);
        }
        
        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid var(--border-color);
            border-radius: 5px;
            background-color: var(--card-bg);
            color: var(--text-color);
            font-size: 1rem;
        }
        
        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--neon-green);
            box-shadow: 0 0 10px rgba(0, 255, 0, 0.3);
        }
        
        .light-theme .form-group input:focus,
        .light-theme .form-group select:focus,
        .light-theme .form-group textarea:focus {
            border-color: var(--accent-color);
            box-shadow: 0 0 10px rgba(45, 125, 90, 0.2);
        }
        
        .btn-primary {
            background: linear-gradient(45deg, var(--tech-green), var(--neon-green));
            color: var(--black);
            border: none;
            border-radius: 5px;
            padding: 12px 25px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .light-theme .btn-primary {
            background: linear-gradient(45deg, var(--accent-color), var(--accent-hover));
            color: white;
        }
        
        .btn-primary:hover {
            background: linear-gradient(45deg, var(--neon-green), var(--tech-green));
            box-shadow: 0 0 10px rgba(0, 255, 0, 0.5);
        }
        
        .light-theme .btn-primary:hover {
            background: linear-gradient(45deg, var(--accent-hover), var(--accent-color));
            box-shadow: 0 0 10px rgba(45, 125, 90, 0.3);
        }
        
        /* Message Styles */
        .message {
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            font-weight: 600;
        }
        
        .message.sucesso {
            background-color: rgba(0, 204, 102, 0.2);
            color: var(--success-color);
            border: 1px solid var(--success-color);
        }
        
        .message.erro {
            background-color: rgba(255, 77, 77, 0.2);
            color: var(--error-color);
            border: 1px solid var(--error-color);
        }
        
        /* Table Styles */
        .table-container {
            background: var(--card-bg);
            border-radius: 10px;
            border: 1px solid var(--border-color);
            padding: 15px;
            box-shadow: 0 0 20px rgba(0, 191, 99, 0.2);
            overflow-x: auto;
            margin-bottom: 30px;
        }
        
        .light-theme .table-container {
            box-shadow: 0 0 20px rgba(45, 125, 90, 0.1);
        }
        
        .data-table {
            width: 100%;
            border-collapse: collapse;
            min-width: 600px;
        }
        
        .data-table th {
            background-color: rgba(0, 191, 99, 0.2);
            color: var(--neon-green);
            padding: 12px 15px;
            text-align: left;
            font-weight: 600;
            border-bottom: 2px solid var(--border-color);
            font-size: 1rem;
        }
        
        .light-theme .data-table th {
            background-color: rgba(45, 125, 90, 0.1);
            color: var(--accent-color);
        }
        
        .data-table td {
            padding: 12px 15px;
            border-bottom: 1px solid rgba(217, 217, 217, 0.1);
            color: var(--light-gray);
            font-size: 0.95rem;
        }
        
        .light-theme .data-table td {
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
        }
        
        .data-table tr:last-child td {
            border-bottom: none;
        }
        
        .data-table tr:hover {
            background-color: rgba(0, 191, 99, 0.05);
        }
        
        .light-theme .data-table tr:hover {
            background-color: rgba(45, 125, 90, 0.03);
        }
        
        .verde {
            color: var(--neon-green);
        }
        
        .light-theme .verde {
            color: var(--accent-color);
        }
        
        .vermelho {
            color: var(--error-color);
        }
        
        /* Footer */
        footer {
            background: var(--black);
            padding: 30px 0 15px;
            border-top: 1px solid var(--border-color);
        }
        
        .light-theme footer {
            background: var(--dark-gray);
        }
        
        .footer-content {
            display: flex;
            flex-direction: column;
            gap: 25px;
            margin-bottom: 25px;
        }
        
        .footer-logo {
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .footer-logo img {
            max-width: 130px;
            margin-bottom: 15px;
        }
        
        .footer-logo-dark {
            display: block;
        }
        
        .footer-logo-light {
            display: none;
        }
        
        .light-theme .footer-logo-dark {
            display: none;
        }
        
        .light-theme .footer-logo-light {
            display: block;
        }
        
        .footer-info {
            text-align: center;
        }
        
        .footer-info h3 {
            color: var(--neon-green);
            margin-bottom: 15px;
            font-size: 1.4rem;
        }
        
        .light-theme .footer-info h3 {
            color: var(--accent-color);
        }
        
        .footer-info p {
            margin-bottom: 8px;
            color: var(--light-gray);
            font-size: 0.95rem;
        }
        
        .footer-bottom {
            text-align: center;
            padding-top: 15px;
            border-top: 1px solid rgba(0, 191, 99, 0.3);
            color: var(--light-gray);
            font-size: 0.85rem;
        }
        
        .light-theme .footer-bottom {
            border-top: 1px solid rgba(45, 125, 90, 0.2);
        }
        
        /* Estilos para as atividades */
        .atividade-card {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .atividade-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }
        
        .atividade-title {
            font-size: 1.3rem;
            color: var(--neon-green);
            margin-bottom: 10px;
        }
        
        .light-theme .atividade-title {
            color: var(--accent-color);
        }
        
        .atividade-meta {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }
        
        .atividade-meta-item {
            display: flex;
            align-items: center;
            gap: 5px;
            color: var(--light-gray);
        }
        
        .atividade-vagas {
            background: rgba(0, 191, 99, 0.2);
            color: var(--neon-green);
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
        }
        
        .light-theme .atividade-vagas {
            background: rgba(45, 125, 90, 0.1);
            color: var(--accent-color);
        }
        
        .atividade-descricao {
            margin-bottom: 15px;
            color: var(--light-gray);
        }
        
        .atividade-actions {
            display: flex;
            justify-content: flex-end;
        }

        /* Tabs */
        .tabs {
            display: flex;
            border-bottom: 1px solid var(--border-color);
            margin-bottom: 20px;
        }
        
        .tab {
            padding: 10px 20px;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
        }
        
        .tab.active {
            border-bottom-color: var(--neon-green);
            color: var(--neon-green);
        }
        
        .light-theme .tab.active {
            border-bottom-color: var(--accent-color);
            color: var(--accent-color);
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }

        /* Estilos para comprovantes */
        .comprovante-item {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .comprovante-info {
            flex: 1;
        }
        
        .comprovante-actions {
            display: flex;
            gap: 10px;
        }

        /* Preview Modal */
        .preview-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }
        
        .preview-content {
            background-color: var(--card-bg);
            border-radius: 10px;
            padding: 20px;
            max-width: 90%;
            max-height: 90%;
            overflow: auto;
            position: relative;
        }
        
        .preview-close {
            position: absolute;
            top: 10px;
            right: 10px;
            background: var(--error-color);
            color: white;
            border: none;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 1.2rem;
        }
        
        .preview-body {
            margin-top: 20px;
        }
        
        .preview-body img {
            max-width: 100%;
            height: auto;
        }
        
        .preview-body iframe {
            width: 100%;
            height: 500px;
            border: none;
        }

        /* File Upload */
        .file-upload {
            border: 2px dashed var(--border-color);
            border-radius: 5px;
            padding: 20px;
            text-align: center;
            margin: 20px 0;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .file-upload:hover {
            border-color: var(--neon-green);
            background-color: rgba(0, 191, 99, 0.05);
        }
        
        .file-upload i {
            font-size: 2rem;
            color: var(--neon-green);
            margin-bottom: 10px;
        }
        
        .file-upload p {
            color: var(--light-gray);
            margin-bottom: 10px;
        }
        
        .file-name {
            margin-top: 10px;
            font-style: italic;
            color: var(--neon-green);
        }
        
        /* Bot√µes de a√ß√£o */
        .btn-edit {
            background: linear-gradient(45deg, var(--tech-green), var(--neon-green));
            color: var(--black);
            border: none;
            border-radius: 5px;
            padding: 8px 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 10px;
        }
        
        .light-theme .btn-edit {
            background: linear-gradient(45deg, var(--accent-color), var(--accent-hover));
            color: white;
        }
        
        .btn-edit:hover {
            background: linear-gradient(45deg, var(--neon-green), var(--tech-green));
            box-shadow: 0 0 10px rgba(0, 255, 0, 0.5);
        }
        
        .light-theme .btn-edit:hover {
            background: linear-gradient(45deg, var(--accent-hover), var(--accent-color));
            box-shadow: 0 0 10px rgba(45, 125, 90, 0.3);
        }
        
        /* Formul√°rio de edi√ß√£o */
        .edit-form {
            display: none;
            margin-top: 20px;
            padding: 20px;
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
        }
        
        .password-fields {
            display: none;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid var(--border-color);
        }
        
        .toggle-password {
            background: none;
            border: none;
            color: var(--neon-green);
            cursor: pointer;
            font-size: 0.9rem;
            margin-top: 10px;
            text-decoration: underline;
        }
        
        .light-theme .toggle-password {
            color: var(--accent-color);
        }

        /* Media Queries para tablets e desktops */
        @media (min-width: 768px) {
            .menu-toggle {
                display: none;
            }
            
            .menu {
                display: flex;
                flex-direction: row;
                position: static;
                width: auto;
                background: transparent;
                padding: 0;
                border: none;
                box-shadow: none;
            }
            
            .menu li {
                width: auto;
            }
            
            .menu a {
                padding: 8px 15px;
                font-size: 0.95rem;
            }
        }
        
        @media (min-width: 992px) {
            .footer-content {
                flex-direction: row;
                gap: 40px;
            }
            
            .footer-logo, .footer-info {
                text-align: left;
            }
        }

        
        @media (max-width: 768px) {
                .header-content {
                    flex-direction: column;
                    gap: 0px;
                }
                
                .logo {
                    margin-bottom: 10px;
                }
                
                .event-title {
                    margin-left: 0;
                    text-align: center;
                }
                
                .dashboard-cards {
                    grid-template-columns: 1fr;
                }
                
                .tabs {
                    flex-direction: column;
                }
                
                .data-table td {
                    padding-left: 45%;
                }
                
                .data-table td:before {
                    width: 40%;
                }
            }
            
            @media (max-width: 576px) {
                .data-table td {
                    padding-left: 50%;
                }
                
                .data-table td:before {
                    width: 45%;
                }
                
                .btn-primary {
                    width: 100%;
                    margin-bottom: 5px;
                }
            }

          /* Novos estilos para a se√ß√£o de pre√ßos */
        .price-display {
            background: rgba(0, 191, 99, 0.1);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 15px;
            margin-top: 10px;
            text-align: center;
            font-weight: 600;
            color: var(--neon-green);            
        }
        
        .light-theme .price-display {
            background: rgba(45, 125, 90, 0.1);
            color: var(--accent-color);
        }
         .price-value {
            font-size: 1.4rem;
            font-weight: 700;
            margin-top: 5px;
        }
        
        .category-description {
            font-size: 0.9rem;
            color: var(--light-gray);
            margin-top: 5px;
        }

        .required-field::after {
            content: " *";
            color: var(--error-color);
        }

        /* Estilos para a se√ß√£o de valor de inscri√ß√£o */
        .valor-info-card {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 0 15px rgba(0, 191, 99, 0.1);
        }

        .light-theme .valor-info-card {
            box-shadow: 0 0 15px rgba(45, 125, 90, 0.1);
        }

        .valor-destaque {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--neon-green);
            text-align: center;
            margin: 15px 0;
        }

        .light-theme .valor-destaque {
            color: var(--accent-color);
        }

        .info-destaque {
            background: rgba(0, 191, 99, 0.1);
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
            border-left: 4px solid var(--neon-green);
        }

        .light-theme .info-destaque {
            background: rgba(45, 125, 90, 0.1);
            border-left-color: var(--accent-color);
        }

        .atividade-tipo {
            display: inline-block;
            background: rgba(0, 191, 99, 0.2);
            color: var(--neon-green);
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-right: 10px;
        }
        
        .light-theme .atividade-tipo {
            background: rgba(45, 125, 90, 0.1);
            color: var(--accent-color);
        }
        
        .atividade-conflito {
            background-color: rgba(255, 77, 77, 0.1);
            border: 1px solid var(--error-color);
        }
        
        .atividade-conflito-message {
            color: var(--error-color);
            font-size: 0.9rem;
            margin-top: 10px;
            padding: 8px;
            background-color: rgba(255, 77, 77, 0.1);
            border-radius: 4px;
        }
        
        .btn-disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }
    </style>
</head>

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2300FF00' d='M13 2.03v2.02c4.39.54 7.5 4.53 6.96 8.92c-.46 3.64-3.32 6.53-6.96 6.96v2c5.5-.55 9.5-5.43 8.95-10.93c-.45-4.75-4.22-8.5-8.95-8.97m-2 .03c-1.95.19-3.81.94-5.33 2.2L7.1 5.74c1.12-.9 2.47-1.48 3.9-1.68v-2M4.26 5.67A9.885 9.885 0 0 0 2.05 11h2c.19-1.42.75-2.77 1.64-3.9L4.26 5.67M2.06 13c.2 1.96.97 3.81 2.21 5.33l1.42-1.43A8.002 8.002 0 0 1 4.06 13h-2m5.04 5.37l-1.43 1.37A9.994 9.994 0 0 0 11 22v-2a8.002 8.002 0 0 1-3.9-1.63m9.33-12.37l-1.59 1.59L16 10l-4-4V3l-1 1l4 4l.47-.53l-1.53-1.53l1.59-1.59l.94.94z'/%3E%3C/svg%3E" type="image/svg+xml">
    <title>Painel do Participante - 1¬™ TechWeek</title>
    <link href='https://fonts.googleapis.com/css?family=Montserrat:400,500,600,700' rel='stylesheet'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Todo o CSS permanece aqui */
        :root {
            --black: #000000;
            --neon-green: #00FF00;
            /* ... resto do CSS ... */
        }
        
        /* Todo o estilo permanece aqui */
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <img src="imagens/logo.jpg" alt="Logo Tech Week" class="logo-dark">
                    <img src="imagens/logo-light.jpg" alt="Logo Tech Week" class="logo-light">
                    <div class="event-title">
                        <h1>1¬™ TechWeek</h1>
                        <span>Painel do Participante</span>
                    </div>
                </div>
                
                <ul class="menu">
                    <li><a href="#dashboard">Dashboard</a></li>
                    <li><a href="#dados">Meus Dados</a></li>                    
                    <li><a href="#comprovantes-pix">Comprovantes</a></li>
                    <li><a href="#atividades">Atividades</a></li>
                    <li><a href="#certificado">Certificado</a></li>                    
                </ul>

                <div class="header-controls">
                    <button class="theme-toggle" id="themeToggle">
                        <i class="fas fa-moon"></i>
                    </button>
                    
                    <div class="user-menu">
                        <button class="user-btn">
                            <i class="fas fa-user"></i>
                            <span id="user-name">Carregando...</span>
                            <i class="fas fa-chevron-down"></i>
                        </button>
                        <div class="user-dropdown" id="userDropdown">
                            <a href="#dados"><i class="fas fa-user-circle"></i> Meu Perfil</a>
                            <a href="logout.php"><i class="fas fa-sign-out-alt"></i> Sair</a>
                        </div>
                    </div>
                    
                    <button class="menu-toggle">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <!-- Welcome Section -->
            <section class="welcome-section">
                <h1>Ol√°, <span id="user-fullname">Carregando...</span>!</h1>
                <p>Bem-vindo(a) ao seu painel de participante da 1¬™ TechWeek. Aqui voc√™ pode gerenciar suas inscri√ß√µes, verificar suas atividades e acessar seu certificado.</p>
            </section>
            
            <!-- Dashboard Cards -->
            <section class="dashboard-cards" id="dashboard">
                <div class="dashboard-card">
                    <i class="fas fa-user-circle"></i>
                    <h3>Meus Dados</h3>
                    <p>Visualize e gerencie suas informa√ß√µes pessoais</p>
                    <a href="#dados" class="btn">Acessar</a>
                </div>
                
                <div class="dashboard-card">
                    <i class="fas fa-receipt"></i>
                    <h3>Comprovantes</h3>
                    <p>Envie e acompanhe seus comprovantes PIX</p>
                    <a href="#comprovantes-pix" class="btn">Ver Comprovantes</a>
                </div>
                
                <div class="dashboard-card">
                    <i class="fas fa-calendar-alt"></i>
                    <h3>Minhas Atividades</h3>
                    <p>Consulte as atividades nas quais voc√™ est√° inscrito(a)</p>
                    <a href="#atividades" class="btn">Ver Atividades</a>
                </div>
                
                <div class="dashboard-card">
                    <i class="fas fa-certificate"></i>
                    <h3>Certificado</h3>
                    <p>Acesse e baixe seu certificado de participa√ß√£o</p>
                    <a href="#certificado" class="btn">Obter Certificado</a>
                </div>
            </section>
            
            <!-- User Info Section -->
            <section class="user-info" id="dados">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <h2>Meus Dados Pessoais</h2>
                    <button class="btn-edit" id="btnEditDados">
                        <i class="fas fa-edit"></i> Editar Dados
                    </button>
                </div>
                
                <div class="info-grid">
                    <div class="info-item">
                        <span class="info-label">Nome Completo</span>
                        <span class="info-value" id="info-nome">Carregando...</span>
                    </div>
                    
                    <div class="info-item">
                        <span class="info-label">E-mail</span>
                        <span class="info-value" id="info-email">Carregando...</span>
                    </div>
                    
                    <div class="info-item">
                        <span class="info-label">CPF</span>
                        <span class="info-value" id="info-cpf">Carregando...</span>
                    </div>
                    
                    <div class="info-item">
                        <span class="info-label">Telefone</span>
                        <span class="info-value" id="info-telefone">Carregando...</span>
                    </div>
                    
                    <div class="info-item">
                        <span class="info-label">Institui√ß√£o</span>
                        <span class="info-value" id="info-instituicao">Carregando...</span>
                    </div>
                    
                    <div class="info-item">
                        <span class="info-label">Data de Inscri√ß√£o</span>
                        <span class="info-value" id="info-data-cadastro">Carregando...</span>
                    </div>
                </div>
                
                <!-- Formul√°rio de Edi√ß√£o -->
                <div class="edit-form" id="editForm">
                    <h3 style="color: var(--neon-green); margin-bottom: 20px;">Editar Dados Pessoais</h3>
                    
                    <form id="formEditarDados">
                        <div class="form-group">
                            <label for="edit_nome" class="required-field">Nome Completo</label>
                            <input type="text" id="edit_nome" name="nome" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="edit_email" class="required-field">E-mail</label>
                            <input type="email" id="edit_email" name="email" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="cpf" class="required-field">CPF</label>
                            <input type="text" id="cpf" name="cpf" required maxlength="14" disabled> * n√£o pode ser editado
                        </div>
                    
                        <div class="form-group">
                            <label for="edit_telefone">Telefone</label>
                            <input type="text" id="edit_telefone" name="telefone">
                        </div>
                        
                        <div class="form-group">
                            <label for="edit_instituicao" class="required-field">Institui√ß√£o</label>
                            <input type="text" id="edit_instituicao" name="instituicao" required>
                        </div>
                        
                        <button type="button" class="toggle-password" id="togglePassword">
                            <i class="fas fa-key"></i> Alterar senha
                        </button>
                        
                        <div class="password-fields" id="passwordFields">
                            <div class="form-group">
                                <label for="edit_senha_atual" class="required-field">Senha Atual</label>
                                <input type="password" id="edit_senha_atual" name="senha_atual">
                            </div>
                            
                            <div class="form-group">
                                <label for="edit_nova_senha" class="required-field">Nova Senha</label>
                                <input type="password" id="edit_nova_senha" name="nova_senha">
                            </div>
                            
                            <div class="form-group">
                                <label for="edit_confirmar_senha" class="required-field">Confirmar Nova Senha</label>
                                <input type="password" id="edit_confirmar_senha" name="confirmar_senha">
                            </div>
                        </div>
                        
                        <div style="display: flex; gap: 10px; margin-top: 20px;">
                            <button type="submit" class="btn-primary">Salvar Altera√ß√µes</button>
                            <button type="button" class="btn-primary" style="background: linear-gradient(45deg, var(--error-color), #ff6b6b);" id="btnCancelEdit">Cancelar</button>
                        </div>
                    </form>
                    <div id="messageEditarDados" style="margin-top: 15px;"></div>
                </div>
            </section>

            <!-- Se√ß√£o de Valor da Inscri√ß√£o -->
            <section id="valor-inscricao" style="margin-top: 20px;">
                <h2 style="color: var(--neon-green); margin-bottom: 20px; font-size: 1.8rem;">VALOR DA INSCRI√á√ÉO</h2>
                
                <div class="user-info">
                    <div style="display: flex; flex-wrap: wrap; gap: 30px;">
                        <!-- Coluna da Esquerda - Informa√ß√µes da Inscri√ß√£o -->
                        <div style="flex: 1; min-width: 300px;">
                            <div class="info-grid">
                                <div class="info-item">
                                    <span class="info-label">Categoria de Inscri√ß√£o</span>
                                    <span class="info-value" id="info-categoria">Carregando...</span>
                                </div>
                                
                                <div class="info-item">
                                    <span class="info-label">Lote</span>
                                    <span class="info-value" id="info-lote">Carregando...</span>
                                </div>
                                
                                <div class="info-item">
                                    <span class="info-label">Valor da Inscri√ß√£o</span>
                                    <span class="info-value" id="info-valor" style="font-size: 1.4rem; font-weight: 700; color: var(--neon-green);">
                                        Carregando...
                                    </span>
                                </div>
                                
                                <div class="info-item" style="grid-column: 1 / -1;">
                                    <span class="info-label">Informa√ß√µes</span>
                                    <span class="info-value" id="info-descricao">
                                        Carregando...
                                    </span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Coluna da Direita - Informa√ß√µes do PIX -->
                        <div style="flex: 1; min-width: 300px;">
                            <div class="pix-section" style="padding: 20px; background: rgba(0, 191, 99, 0.1); border-radius: 8px; border-left: 4px solid var(--neon-green); height: 100%;">
                                <h4 style="color: var(--neon-green); margin-bottom: 15px; text-align: center;">üí≥ Pagamento via PIX</h4>
                                
                                <div style="text-align: center; margin-bottom: 20px;">
                                    <img id="qrcode-pix" alt="QR Code PIX" style="max-width: 100%; max-height: 200px; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.2);">
                                    <p style="margin-top: 10px; font-size: 0.9rem; color: var(--light-gray);">Escaneie o QR Code para pagar</p>
                                </div>
                                
                                <div>
                                    <p style="font-weight: 600; color: var(--neon-green); margin-bottom: 8px; text-align: center;">Chave PIX:</p>
                                    <div style="background: rgba(0,0,0,0.2); padding: 12px; border-radius: 5px; margin-bottom: 15px;">
                                        <p id="pix-key" style="word-break: break-all; font-family: monospace; margin: 0; color: var(--light-gray); font-size: 0.9rem; text-align: center;">
                                            Carregando...
                                        </p>
                                    </div>
                                    <div style="text-align: center;">
                                        <button onclick="copiarChavePIX()" style="padding: 10px 15px; background: linear-gradient(45deg, var(--tech-green), var(--neon-green)); color: var(--black); border: none; border-radius: 5px; cursor: pointer; font-weight: 600;">
                                            <i class="fas fa-copy"></i> Copiar Chave PIX
                                        </button>
                                    </div>
                                </div>
                                
                                <div style="margin-top: 20px; padding: 15px; background: rgba(0,0,0,0.1); border-radius: 5px;">
                                    <p style="margin: 0; color: var(--light-gray); font-size: 0.9rem; text-align: center;">
                                        <strong>Instru√ß√µes:</strong> Ap√≥s realizar o pagamento PIX, n√£o se esque√ßa de enviar o comprovante na se√ß√£o "Comprovantes PIX" abaixo.
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div style="margin-top: 20px; padding: 15px; background: rgba(0, 191, 99, 0.1); border-radius: 8px; border-left: 4px solid var(--neon-green);">
                        <h4 style="color: var(--neon-green); margin-bottom: 10px;">üí° Como funciona o sistema de valores?</h4>
                        <p style="margin: 0; color: var(--light-gray); font-size: 0.95rem;" id="info-sistema-valores">
                            Carregando...
                        </p>
                    </div>
                </div>
            </section>

            <!-- Comprovantes Section -->
            <section id="comprovantes-pix" style="margin-top: 40px;">
                <h2 style="color: var(--neon-green); margin-bottom: 40px; font-size: 1.8rem;">Comprovantes PIX</h2>
                
                <div class="user-info">
                    <h3>Enviar Comprovante</h3>
                    <form id="formComprovante" method="POST" enctype="multipart/form-data">
                        <div class="file-upload" id="fileUploadArea">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <p>Clique para selecionar or arraste um arquivo</p>
                            <p>Aceitamos arquivos PDF, JPG, PNG ou GIF (at√© 5MB)</p>
                            <input type="file" name="comprovante" id="comprovante" accept=".jpg,.jpeg,.png,.gif,.pdf" style="display: none;" required>
                            <div id="fileName" class="file-name"></div>
                        </div>
                        
                        <button type="submit" class="btn-primary">Enviar Comprovante</button>
                    </form>
                    <div id="messageComprovante"></div>
                </div>
                
                <h3 style="color: var(--neon-green); margin: 30px 0 20px; font-size: 1.5rem;">Meus Comprovantes</h3>
                <div id="comprovantesList">
                    <!-- Comprovantes ser√£o carregados via JavaScript -->
                </div>
            </section>
            
            <!-- Atividades Section -->
            <section id="atividades" style="margin-top: 40px;">
                <h2 style="color: var(--neon-green); margin-bottom: 20px; font-size: 1.8rem;">Atividades da TechWeek</h2>
                
                <div id="messageAtividade" style="margin-bottom: 20px;"></div>
                
                <div class="tabs">
                    <div class="tab active" data-tab="todas">Todas as Atividades</div>
                    <div class="tab" data-tab="minhas">Minhas Inscri√ß√µes</div>
                </div>
                
                <div class="tab-content active" id="todas-atividades">
                    <!-- Atividades ser√£o carregadas via JavaScript -->
                </div>
                
                <div class="tab-content" id="minhas-atividades">
                    <!-- Inscri√ß√µes ser√£o carregadas via JavaScript -->
                </div>
            </section>
            
            <!-- Certificado Section -->
            <section id="certificado" style="margin-top: 40px;">
                <h2 style="color: var(--neon-green); margin-bottom: 20px; font-size: 1.8rem;">Certificado de Participa√ß√£o</h2>
                
                <div class="dashboard-card">
                    <i class="fas fa-certificate" style="font-size: 3rem;"></i>
                    <h3>Certificado da 1¬™ TechWeek</h3>
                    <p>Seu certificado de participa√ß√£o estar√° dispon√≠vel para download ap√≥s o t√©rmino do evento.</p>
                    <button class="btn" style="opacity: 0.7; cursor: not-allowed;">Dispon√≠vel em Breve</button>
                </div>
            </section>
        </div>
    </main>

    <!-- Preview Modal -->
    <div class="preview-modal" id="previewModal">
        <div class="preview-content">
            <button class="preview-close" id="previewClose">
                <i class="fas fa-times"></i>
            </button>
            <h3>Visualizar Comprovante</h3>
            <div class="preview-body" id="previewBody">
                <!-- Conte√∫do ser√° inserido via JavaScript -->
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <img src="imagens/logo.jpg" alt="Tech Week" class="footer-logo-dark">
                    <img src="imagens/logo-light.jpg" alt="Tech Week" class="footer-logo-light">
                    <p style="color: var(--light-gray);">1¬™ TechWeek</p>
                    <p style="color: var(--tech-green); font-weight: 600; margin-top: 5px;">Semana Acad√™mica de Tecnologia e Inova√ß√£o</p>
                </div>
                
                <div class="footer-info">
                    <h3>Informa√ß√µes</h3>
                    <p><strong>Data:</strong> 28 a 31 de Outubro de 2025</p>
                    <p><strong>Hor√°rio:</strong> 14:00 √†s 22:00</p>
                    <p><strong>Locais:</strong> UTFPR e Teatro Municipal</p>
                    <p>Organiza√ß√£o: UTFPR, CASIS, TypeX, CESUL</p>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>Implementado por Wellton Costa de Oliveira</p>
                <p>Identidade Visual por David Junior</p>
                <p>&copy; 2025 1¬™ TechWeek - Todos os direitos reservados.</p>
            </div>
        </div>
    </footer>

    <script>
        // Fun√ß√£o para carregar dados da API
        async function carregarDados() {
            try {
                const response = await fetch('api_painel.php');
                const data = await response.json();
                
                if (data.success) {
                    // Preencher dados do usu√°rio
                    document.getElementById('user-name').textContent = data.usuario.nome.split(' ')[0];
                    document.getElementById('user-fullname').textContent = data.usuario.nome;
                    document.getElementById('info-nome').textContent = data.usuario.nome;
                    document.getElementById('info-email').textContent = data.usuario.email;
                    document.getElementById('info-cpf').textContent = data.usuario.cpf || 'N√£o informado';
                    document.getElementById('info-telefone').textContent = data.usuario.telefone || 'N√£o informado';
                    document.getElementById('info-instituicao').textContent = data.usuario.instituicao || 'N√£o informado';
                    document.getElementById('info-data-cadastro').textContent = new Date(data.usuario.data_cadastro).toLocaleDateString('pt-BR');
                    
                    // Preencher formul√°rio de edi√ß√£o
                    document.getElementById('edit_nome').value = data.usuario.nome;
                    document.getElementById('edit_email').value = data.usuario.email;
                    document.getElementById('cpf').value = data.usuario.cpf || '';
                    document.getElementById('edit_telefone').value = data.usuario.telefone || '';
                    document.getElementById('edit_instituicao').value = data.usuario.instituicao || '';
                    
                    // Preencher informa√ß√µes de inscri√ß√£o
                    document.getElementById('info-categoria').textContent = data.info_inscricao.titulo || 'N√£o especificada';
                    document.getElementById('info-lote').textContent = data.info_inscricao.lote ? `Lote ${data.info_inscricao.lote}` : 'N√£o definido';
                    document.getElementById('info-valor').textContent = `R$ ${parseFloat(data.info_inscricao.preco).toFixed(2).replace('.', ',')}`;
                    document.getElementById('info-descricao').textContent = data.info_inscricao.descricao || '';
                    document.getElementById('info-sistema-valores').textContent = data.info_inscricao.sistema_valores || '';
                    
                    // Preencher informa√ß√µes PIX
                    if (data.info_inscricao.chave_pix) {
                        document.getElementById('pix-key').textContent = data.info_inscricao.chave_pix;
                        document.getElementById('qrcode-pix').src = data.info_inscricao.imagem_pix;
                    }
                    
                    // Carregar comprovantes
                    carregarComprovantes(data.comprovantes);
                    
                    // Carregar atividades
                    carregarAtividades(data.todas_atividades, data.atividades_inscritas);
                    
                } else {
                    console.error('Erro ao carregar dados:', data.message);
                }
            } catch (error) {
                console.error('Erro ao carregar dados:', error);
            }
        }
        
        // Fun√ß√£o para carregar comprovantes
        function carregarComprovantes(comprovantes) {
            const comprovantesList = document.getElementById('comprovantesList');
            
            if (comprovantes.length > 0) {
                let html = '';
                comprovantes.forEach(comprovante => {
                    html += `
                        <div class="comprovante-item">
                            <div class="comprovante-info">
                                <h4>Comprovante enviado em ${new Date(comprovante.data_envio).toLocaleString('pt-BR')}</h4>
                                <div class="verification-status">
                                    <span class="status-icon">
                                        ${comprovante.status === 'aprovado' ? 
                                            '<i class="fas fa-check-circle" style="color: var(--success-color);"></i>' : 
                                        comprovante.status === 'excluido' || comprovante.status === 'rejeitado' ? 
                                            '<i class="fas fa-times-circle" style="color: var(--error-color);"></i>' : 
                                            '<i class="fas fa-clock" style="color: #ffc107;"></i>'}
                                    </span>
                                    <span>
                                        Status: 
                                        ${comprovante.status === 'aprovado' ? 
                                            '<span class="verde">Aprovado</span>' : 
                                        comprovante.status === 'excluido' ? 
                                            '<span class="vermelho">Exclu√≠do</span>' : 
                                        comprovante.status === 'rejeitado' ? 
                                            '<span class="vermelho">Rejeitado</span>' : 
                                            '<span style="color: #ffc107;">Pendente</span>'}
                                        ${comprovante.status === 'rejeitado' && comprovante.observacao ? 
                                            `<br><small>Motivo: ${comprovante.observacao}</small>` : ''}
                                    </span>
                                </div>
                            </div>
                            <div class="comprovante-actions">
                                <button class="btn-primary btn-view-comprovante" data-file="${comprovante.arquivo}" data-type="${comprovante.tipo_arquivo}">
                                    <i class="fas fa-eye"></i> Visualizar
                                </button>
                            </div>
                        </div>
                    `;
                });
                comprovantesList.innerHTML = html;
            } else {
                comprovantesList.innerHTML = '<div class="message">Voc√™ ainda n√£o enviou nenhum comprovante.</div>';
            }
        }
        
        // Fun√ß√£o para carregar atividades
        function carregarAtividades(todasAtividades, atividadesInscritas) {
            const todasAtividadesContainer = document.getElementById('todas-atividades');
            const minhasAtividadesContainer = document.getElementById('minhas-atividades');
            
            // Carregar todas as atividades
            if (todasAtividades.length > 0) {
                let html = '';
                todasAtividades.forEach(atividade => {
                    const vagasRestantes = atividade.vagas - atividade.inscricoes;
                    const jaInscrito = atividadesInscritas.some(a => a.id === atividade.id);
                    
                    html += `
                        <div class="atividade-card" id="atividade-${atividade.id}" 
                             data-id="${atividade.id}"
                             data-data="${atividade.data}"
                             data-hora-inicio="${atividade.hora_inicio}"
                             data-hora-fim="${atividade.hora_fim}">
                            <div class="atividade-header">
                                <h3 class="atividade-title">
                                    <span class="atividade-tipo">${atividade.tipo.charAt(0).toUpperCase() + atividade.tipo.slice(1)}</span>
                                    ${atividade.titulo}
                                </h3>
                                <div class="atividade-vagas">
                                    ${vagasRestantes > 0 ? vagasRestantes + ' vagas restantes' : 'Esgotada'}
                                </div>
                            </div>
                            
                            <div class="atividade-meta">
                                <div class="atividade-meta-item">
                                    <i class="fas fa-calendar"></i>
                                    ${new Date(atividade.data).toLocaleDateString('pt-BR')}
                                </div>
                                <div class="atividade-meta-item">
                                    <i class="fas fa-clock"></i>
                                    ${atividade.hora_inicio.substring(0, 5)} - ${atividade.hora_fim.substring(0, 5)}
                                </div>
                                <div class="atividade-meta-item">
                                    <i class="fas fa-map-marker-alt"></i>
                                    ${atividade.sala}
                                </div>
                            </div>
                            
                            ${atividade.palestrante ? `
                            <div class="atividade-descricao">
                                <strong>Palestrante:</strong> ${atividade.palestrante}
                            </div>
                            ` : ''}
                            
                            <div class="atividade-actions">                        
                                ${jaInscrito ? `
                                    <button class="btn-primary btn-cancelar-atividade" data-atividade-id="${atividade.id}" style="background: linear-gradient(45deg, var(--error-color), #ff6b6b);">
                                        <i class="fas fa-times"></i> Cancelar Inscri√ß√£o
                                    </button>
                                ` : `
                                    <button class="btn-primary btn-inscrever-atividade ${vagasRestantes <= 0 ? 'btn-disabled' : ''}" 
                                            data-atividade-id="${atividade.id}"
                                            ${vagasRestantes <= 0 ? 'disabled' : ''}>
                                        <i class="fas fa-plus"></i> Inscrever-se
                                    </button>
                                `}
                            </div>
                            
                            <div class="atividade-conflito-message" id="conflito-${atividade.id}" style="display: none;"></div>
                        </div>
                    `;
                });
                todasAtividadesContainer.innerHTML = html;
            } else {
                todasAtividadesContainer.innerHTML = '<div class="message">N√£o h√° atividades dispon√≠veis no momento.</div>';
            }
            
            // Carregar minhas atividades
            if (atividadesInscritas.length > 0) {
                let html = '';
                atividadesInscritas.forEach(atividade => {
                    html += `
                        <div class="atividade-card">
                            <div class="atividade-header">
                                <h3 class="atividade-title">
                                    <span class="atividade-tipo">${atividade.tipo.charAt(0).toUpperCase() + atividade.tipo.slice(1)}</span>
                                    ${atividade.titulo}
                                </h3>
                                <div class="atividade-vagas">
                                    Inscrito
                                </div>
                            </div>
                            
                            <div class="atividade-meta">
                                <div class="atividade-meta-item">
                                    <i class="fas fa-calendar"></i>
                                    ${new Date(atividade.data).toLocaleDateString('pt-BR')}
                                </div>
                                <div class="atividade-meta-item">
                                    <i class="fas fa-clock"></i>
                                    ${atividade.hora_inicio.substring(0, 5)} - ${atividade.hora_fim.substring(0, 5)}
                                </div>
                                <div class="atividade-meta-item">
                                    <i class="fas fa-map-marker-alt"></i>
                                    ${atividade.sala}
                                </div>
                            </div>
                            
                            ${atividade.palestrante ? `
                            <div class="atividade-descricao">
                                <strong>Palestrante:</strong> ${atividade.palestrante}
                            </div>
                            ` : ''}
                            
                            <div class="atividade-actions">
                                <button class="btn-primary btn-cancelar-atividade" data-atividade-id="${atividade.id}" style="background: linear-gradient(45deg, var(--error-color), #ff6b6b);">
                                    <i class="fas fa-times"></i> Cancelar Inscri√ß√£o
                                </button>
                            </div>
                        </div>
                    `;
                });
                minhasAtividadesContainer.innerHTML = html;
            } else {
                minhasAtividadesContainer.innerHTML = '<div class="message">Voc√™ ainda n√£o se inscreveu em nenhuma atividade.</div>';
            }
        }
        
        // Carregar dados quando a p√°gina for carregada
        document.addEventListener('DOMContentLoaded', function() {
            carregarDados();
            

                // Menu mobile
                const menuToggle = document.querySelector('.menu-toggle');
                const menu = document.querySelector('.menu');
                
                menuToggle.addEventListener('click', () => {
                    menu.classList.toggle('active');
                });
                
                // User dropdown
                const userBtn = document.querySelector('.user-btn');
                const userDropdown = document.getElementById('userDropdown');
                
                userBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    userDropdown.classList.toggle('active');
                });
                
                // Fechar dropdown ao clicar fora
                document.addEventListener('click', (e) => {
                    if (!userBtn.contains(e.target) && !userDropdown.contains(e.target)) {
                        userDropdown.classList.remove('active');
                    }
                });
                
                // Sistema de tema claro/escuro
                const themeToggle = document.getElementById('themeToggle');
                const themeIcon = themeToggle.querySelector('i');
                const body = document.body;
                
                // Verificar prefer√™ncia salva no localStorage
                const savedTheme = localStorage.getItem('theme');
                if (savedTheme === 'light') {
                    body.classList.add('light-theme');
                    themeIcon.classList.remove('fa-moon');
                    themeIcon.classList.add('fa-sun');
                }
                
                themeToggle.addEventListener('click', function() {
                    body.classList.toggle('light-theme');
                    
                    if (body.classList.contains('light-theme')) {
                        localStorage.setItem('theme', 'light');
                        themeIcon.classList.remove('fa-moon');
                        themeIcon.classList.add('fa-sun');
                    } else {
                        localStorage.setItem('theme', 'dark');
                        themeIcon.classList.remove('fa-sun');
                        themeIcon.classList.add('fa-moon');
                    }
                });
                
                // Suavizar rolagem para √¢ncoras
                document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                    anchor.addEventListener('click', function(e) {
                        e.preventDefault();
                        
                        const targetId = this.getAttribute('href');
                        if (targetId === '#') return;
                        
                        const targetElement = document.querySelector(targetId);
                        if (targetElement) {
                            const headerHeight = document.querySelector('header').offsetHeight;
                            window.scrollTo({
                                top: targetElement.offsetTop - headerHeight,
                                behavior: 'smooth'
                            });
                            
                            // Fechar menu mobile ap√≥s clicar em um link
                            if (menu.classList.contains('active')) {
                                menu.classList.remove('active');
                            }
                            
                            // Fechar dropdown do usu√°rio
                            userDropdown.classList.remove('active');
                        }
                    });
                });
                
                // Upload de comprovante
                const fileUploadArea = document.getElementById('fileUploadArea');
                const fileInput = document.getElementById('comprovante');
                const fileName = document.getElementById('fileName');
                const formComprovante = document.getElementById('formComprovante');
                const messageComprovante = document.getElementById('messageComprovante');
                
                
                if (fileUploadArea) {
                    fileUploadArea.addEventListener('click', () => {
                        fileInput.click();
                    });
                    
                    fileInput.addEventListener('change', () => {
                        if (fileInput.files.length > 0) {
                            fileName.textContent = fileInput.files[0].name;
                        } else {
                            fileName.textContent = '';
                        }
                    });
                    
                    // Arrastar e soltar arquivo
                    fileUploadArea.addEventListener('dragover', (e) => {
                        e.preventDefault();
                        fileUploadArea.style.borderColor = 'var(--neon-green)';
                        fileUploadArea.style.backgroundColor = 'rgba(0, 191, 99, 0.1)';
                    });
                    
                    fileUploadArea.addEventListener('dragleave', () => {
                        fileUploadArea.style.borderColor = 'var(--border-color)';
                        fileUploadArea.style.backgroundColor = 'transparent';
                    });
                    
                    fileUploadArea.addEventListener('drop', (e) => {
                        e.preventDefault();
                        fileUploadArea.style.borderColor = 'var(--border-color)';
                        fileUploadArea.style.backgroundColor = 'transparent';
                        
                        if (e.dataTransfer.files.length > 0) {
                            fileInput.files = e.dataTransfer.files;
                            fileName.textContent = e.dataTransfer.files[0].name;
                        }
                    });
                    
                    // Envio do formul√°rio via AJAX
                    formComprovante.addEventListener('submit', function(e) {
                        e.preventDefault();
                        
                        const formData = new FormData(this);
                        
                        fetch('upload_comprovante.php', {
                            method: 'POST',
                            body: formData
                        })
                        .then(response => response.json())
                        .then(data => {
                            if (data.success) {
                                messageComprovante.innerHTML = `<div class="message sucesso">${data.message}</div>`;
                                
                                // Adicionar o novo comprovante √† lista
                                const comprovantesList = document.getElementById('comprovantesList');
                                const comprovanteItem = document.createElement('div');
                                comprovanteItem.className = 'comprovante-item';
                                comprovanteItem.innerHTML = `
                                    <div class="comprovante-info">
                                        <h4>Comprovante enviado em ${new Date().toLocaleString('pt-BR')}</h4>
                                        <div class="verification-status">
                                            <span class="status-icon">
                                                <i class="fas fa-clock" style="color: #ffc107;"></i>
                                            </span>
                                            <span>
                                                Status: <span style="color: #ffc107;">Pendente</span>
                                            </span>
                                        </div>
                                    </div>
                                    <div class="comprovante-actions">
                                        <button class="btn-primary btn-view-comprovante" data-file="${data.file_path}" data-type="${data.file_type}">
                                            <i class="fas fa-eye"></i> Visualizar
                                        </button>
                                    </div>
                                `;
                                
                                // Adicionar evento de visualiza√ß√£o ao novo bot√£o
                                comprovanteItem.querySelector('.btn-view-comprovante').addEventListener('click', viewComprovanteHandler);
                                
                                // Adicionar √† lista
                                if (comprovantesList.querySelector('.message')) {
                                    comprovantesList.innerHTML = '';
                                }
                                comprovantesList.prepend(comprovanteItem);
                                
                                // Limpar o formul√°rio
                                formComprovante.reset();
                                fileName.textContent = '';
                            } else {
                                messageComprovante.innerHTML = `<div class="message erro">${data.message}</div>`;
                            }
                        })
                        .catch(error => {
                            messageComprovante.innerHTML = `<div class="message erro">Erro ao enviar comprovante: ${error}</div>`;
                        });
                    });
                    
                    // Visualizar comprovante
                    const previewModal = document.getElementById('previewModal');
                    const previewClose = document.getElementById('previewClose');
                    const previewBody = document.getElementById('previewBody');
                    
                    const viewComprovanteHandler = function() {
                        const file = this.getAttribute('data-file');
                        const type = this.getAttribute('data-type');
                        
                        previewBody.innerHTML = '';
                        
                        if (type === 'pdf') {
                            previewBody.innerHTML = `<iframe src="${file}"></iframe>`;
                        } else {
                            previewBody.innerHTML = `<img src="${file}" alt="Comprovante">`;
                        }
                        
                        previewModal.style.display = 'flex';
                    };
                    
                    // Adicionar evento a todos os bot√µes de visualiza√ß√£o
                    document.querySelectorAll('.btn-view-comprovante').forEach(button => {
                        button.addEventListener('click', viewComprovanteHandler);
                    });
                    
                    previewClose.addEventListener('click', () => {
                        previewModal.style.display = 'none';
                    });
                    
                    previewModal.addEventListener('click', (e) => {
                        if (e.target === previewModal) {
                            previewModal.style.display = 'none';
                        }
                    });
                }

                // Tabs de atividades
                const tabs = document.querySelectorAll('.tab');
                const tabContents = document.querySelectorAll('.tab-content');
                
                tabs.forEach(tab => {
                    tab.addEventListener('click', () => {
                        const tabId = tab.getAttribute('data-tab');
                        
                        tabs.forEach(t => t.classList.remove('active'));
                        tabContents.forEach(tc => tc.classList.remove('active'));
                        
                        tab.classList.add('active');
                        document.getElementById(`${tabId}-atividades`).classList.add('active');
                    });
                });
                
                // Array para armazenar as atividades inscritas com seus hor√°rios
                const atividadesInscritas = [];
                                
                
                // Fun√ß√£o para verificar conflito de hor√°rios
                function temConflito(novaAtividade, atividadesInscritas) {
                    for (const atividade of atividadesInscritas) {
                        // Se for no mesmo dia
                        if (novaAtividade.data === atividade.data) {
                            // Verificar se os hor√°rios se sobrep√µem
                            const novaInicio = novaAtividade.hora_inicio;
                            const novaFim = novaAtividade.hora_fim;
                            const inicio = atividade.hora_inicio;
                            const fim = atividade.hora_fim;
                            
                            // Converte para minutos para facilitar a compara√ß√£o
                            function toMinutes(timeStr) {
                                const [h, m] = timeStr.split(':').map(Number);
                                return h * 60 + m;
                            }
                            
                            const novaInicioMin = toMinutes(novaInicio);
                            const novaFimMin = toMinutes(novaFim);
                            const inicioMin = toMinutes(inicio);
                            const fimMin = toMinutes(fim);
                            
                            // Verifica se h√° sobreposi√ß√£o
                            if (novaInicioMin < fimMin && novaFimMin > inicioMin) {
                                return atividade; // Retorna a atividade conflitante
                            }
                        }
                    }
                    return false;
                }
                
                // Fun√ß√£o para verificar e atualizar conflitos
              // Fun√ß√£o para verificar e atualizar conflitos - CORRIGIDA
        function atualizarConflitos() {
            document.querySelectorAll('.atividade-card').forEach(card => {
                const atividadeId = card.dataset.id;
                const messageElement = document.getElementById(`conflito-${atividadeId}`);
                
                // Verificar se o elemento existe antes de acess√°-lo
                if (!messageElement) return;
                
                // Se j√° est√° inscrito, n√£o precisa verificar conflito
                if (atividadesInscritas.some(a => a.id == atividadeId)) {
                    messageElement.style.display = 'none';
                    return;
                }
                
                const atividade = {
                    id: card.dataset.id,
                    data: card.dataset.data,
                    hora_inicio: card.dataset.horaInicio,
                    hora_fim: card.dataset.horaFim
                };
                
                const conflito = temConflito(atividade, atividadesInscritas);
                const btnInscrever = card.querySelector('.btn-inscrever-atividade');
                
                if (conflito) {
                    card.classList.add('atividade-conflito');
                    messageElement.innerHTML = `Conflito de hor√°rio com: ${conflito.titulo} (${conflito.hora_inicio.slice(0,5)} - ${conflito.hora_fim.slice(0,5)})`;
                    messageElement.style.display = 'block';
                    
                    if (btnInscrever) {
                        btnInscrever.classList.add('btn-disabled');
                        btnInscrever.disabled = true;
                    }
                } else {
                    card.classList.remove('atividade-conflito');
                    messageElement.style.display = 'none';
                    
                    if (btnInscrever) {
                        btnInscrever.classList.remove('btn-disabled');
                        btnInscrever.disabled = false;
                    }
                }
            });
        }
                
                // Chamar a fun√ß√£o para verificar conflitos inicialmente
                atualizarConflitos();
                atualizarMinhasInscricoes();

                
                // Inscri√ß√£o em atividades via AJAX
                document.querySelectorAll('.btn-inscrever-atividade').forEach(button => {
                    button.addEventListener('click', function() {
                        if (this.disabled) return;
                        
                        const atividadeElement = this.closest('.atividade-card');
                        const atividadeId = this.getAttribute('data-atividade-id');
                        const messageAtividade = document.getElementById('messageAtividade');
                        
                        // Obter dados da nova atividade
                        const novaAtividade = {
                            id: atividadeElement.dataset.id,
                            data: atividadeElement.dataset.data,
                            hora_inicio: atividadeElement.dataset.horaInicio,
                            hora_fim: atividadeElement.dataset.horaFim,
                            titulo: atividadeElement.querySelector('.atividade-title').textContent.trim()
                        };
                        
                        // Verificar conflito
                        const conflito = temConflito(novaAtividade, atividadesInscritas);
                        if (conflito) {
                            messageAtividade.innerHTML = `<div class="message erro">Conflito de hor√°rio com a atividade: ${conflito.titulo} (${conflito.hora_inicio.slice(0,5)} - ${conflito.hora_fim.slice(0,5)}).</div>`;
                            // Esconder a mensagem ap√≥s 5 segundos
                            setTimeout(() => {
                                messageAtividade.innerHTML = '';
                            }, 5000);
                            return;
                        }
                        
                        fetch('atividades_handler.php?action=inscrever', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/x-www-form-urlencoded',
                            },
                            body: `atividade_id=${atividadeId}`
                        })
                        .then(response => response.json())
                        .then(data => {
                            if (data.success) {
                                messageAtividade.innerHTML = `<div class="message sucesso">${data.message}</div>`;
                                
                                // Adicionar a nova atividade ao array de atividadesInscritas
                                atividadesInscritas.push({
                                    id: novaAtividade.id,
                                    data: novaAtividade.data,
                                    hora_inicio: novaAtividade.hora_inicio,
                                    hora_fim: novaAtividade.hora_fim,
                                    titulo: novaAtividade.titulo
                                });
                                
                                // Atualizar o bot√£o
                                this.innerHTML = '<i class="fas fa-times"></i> Cancelar Inscri√ß√£o';
                                this.classList.remove('btn-inscrever-atividade');
                                this.classList.add('btn-cancelar-atividade');
                                this.style.background = 'linear-gradient(45deg, var(--error-color), #ff6b6b)';
                                
                                // Adicionar evento de cancelamento
                                this.addEventListener('click', cancelarInscricaoHandler);
                                
                                // Atualizar a contagem de vagas
                                const vagasElement = atividadeElement.querySelector('.atividade-vagas');
                                const vagasText = vagasElement.textContent;
                                const match = vagasText.match(/(\d+)/);
                                if (match) {
                                    const vagas = parseInt(match[1]);
                                    if (vagas > 1) {
                                        vagasElement.textContent = (vagas - 1) + ' vagas restantes';
                                    } else {
                                        vagasElement.textContent = 'Esgotada';
                                        // Desabilitar outros bot√µes de inscri√ß√£o para esta atividade
                                        document.querySelectorAll(`.btn-inscrever-atividade[data-atividade-id="${atividadeId}"]`).forEach(btn => {
                                            btn.classList.add('btn-disabled');
                                            btn.disabled = true;
                                        });
                                    }
                                }
                                
                                // Atualizar conflitos
                                atualizarConflitos();
                                atualizarMinhasInscricoes();
                                // Atualizar a aba "Minhas Inscri√ß√µes"
                                setTimeout(() => {
                                    document.querySelector('[data-tab="minhas"]').click();
                                }, 1500);
                            } else {
                                messageAtividade.innerHTML = `<div class="message erro">${data.message}</div>`;
                            }
                            
                            // Esconder a mensagem ap√≥s 5 segundos
                            setTimeout(() => {
                                messageAtividade.innerHTML = '';
                            }, 5000);
                        })
                        .catch(error => {
                            messageAtividade.innerHTML = `<div class="message erro">Erro: ${error}</div>`;
                        });
                    });
                });
                
                // Cancelamento de inscri√ß√£o via AJAX
                const cancelarInscricaoHandler = function() {
                    const atividadeId = this.getAttribute('data-atividade-id');
                    const messageAtividade = document.getElementById('messageAtividade');
                    
                    fetch('atividades_handler.php?action=cancelar', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/x-www-form-urlencoded',
                        },
                        body: `atividade_id=${atividadeId}`
                    })
                    .then(response => response.json())
                    .then(data => {
                        if (data.success) {
                            messageAtividade.innerHTML = `<div class="message sucesso">${data.message}</div>`;
                            
                            // Remover a atividade do array de atividadesInscritas
                            const index = atividadesInscritas.findIndex(a => a.id == atividadeId);
                            if (index !== -1) {
                                atividadesInscritas.splice(index, 1);
                            }
                            
                            // Atualizar a interface
                            atualizarInterfaceAtividade(atividadeId, false);
                            atualizarConflitos();
                                            atualizarMinhasInscricoes();

                            // Atualizar a aba "Minhas Inscri√ß√µes"
                            setTimeout(() => {
                                document.querySelector('[data-tab="minhas"]').click();
                            }, 1000);

                            //atualizarMinhasInscricoes();
                        } else {
                            messageAtividade.innerHTML = `<div class="message erro">${data.message}</div>`;
                        }
                        
                        setTimeout(() => {
                            messageAtividade.innerHTML = '';
                        }, 5000);
                    })
                    .catch(error => {
                        messageAtividade.innerHTML = `<div class="message erro">Erro: ${error}</div>`;
                    });
                };
                
                // Adicionar evento de cancelamento aos bot√µes existentes
                document.querySelectorAll('.btn-cancelar-atividade').forEach(button => {
                    button.addEventListener('click', cancelarInscricaoHandler);
                });

                
        function atualizarInterfaceAtividade(atividadeId, inscrito) {
            const atividadeElement = document.getElementById(`atividade-${atividadeId}`);
            if (!atividadeElement) return;
            
            const actionsDiv = atividadeElement.querySelector('.atividade-actions');
            const vagasElement = atividadeElement.querySelector('.atividade-vagas');
            
            // Limpar todos os bot√µes existentes
            actionsDiv.innerHTML = '';
            
            if (inscrito) {
                // Criar apenas o bot√£o de cancelar
                const btnCancelar = document.createElement('button');
                btnCancelar.className = 'btn-primary btn-cancelar-atividade';
                btnCancelar.setAttribute('data-atividade-id', atividadeId);
                btnCancelar.style.background = 'linear-gradient(45deg, var(--error-color), #ff6b6b)';
                btnCancelar.innerHTML = '<i class="fas fa-times"></i> Cancelar Inscri√ß√£o';
                
                // Adicionar evento de cancelamento
                btnCancelar.addEventListener('click', cancelarInscricaoHandler);
                
                actionsDiv.appendChild(btnCancelar);
            } else {
                // Criar apenas o bot√£o de inscrever
                const btnInscrever = document.createElement('button');
                btnInscrever.className = 'btn-primary btn-inscrever-atividade';
                btnInscrever.setAttribute('data-atividade-id', atividadeId);
                btnInscrever.innerHTML = '<i class="fas fa-plus"></i> Inscrever-se';
                
                // Adicionar event listener para o novo bot√£o
                btnInscrever.addEventListener('click', function() {
                    if (this.disabled) return;
                    
                    const atividadeElement = this.closest('.atividade-card');
                    const atividadeId = this.getAttribute('data-atividade-id');
                    const messageAtividade = document.getElementById('messageAtividade');
                    
                    // Obter dados da nova atividade
                    const novaAtividade = {
                        id: atividadeElement.dataset.id,
                        data: atividadeElement.dataset.data,
                        hora_inicio: atividadeElement.dataset.horaInicio,
                        hora_fim: atividadeElement.dataset.horaFim,
                        titulo: atividadeElement.querySelector('.atividade-title').textContent.trim()
                    };
                    
                    // Verificar conflito
                    const conflito = temConflito(novaAtividade, atividadesInscritas);
                    if (conflito) {
                        messageAtividade.innerHTML = `<div class="message erro">Conflito de hor√°rio com a atividade: ${conflito.titulo} (${conflito.hora_inicio.slice(0,5)} - ${conflito.hora_fim.slice(0,5)}).</div>`;
                        // Esconder a mensagem ap√≥s 5 segundos
                        setTimeout(() => {
                            messageAtividade.innerHTML = '';
                        }, 5000);
                        return;
                    }
                    
                    fetch('atividades_handler.php?action=inscrever', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/x-www-form-urlencoded',
                        },
                        body: `atividade_id=${atividadeId}`
                    })
                    .then(response => response.json())
                    .then(data => {
                        if (data.success) {
                            messageAtividade.innerHTML = `<div class="message sucesso">${data.message}</div>`;
                            
                            // Adicionar a nova atividade ao array de atividadesInscritas
                            atividadesInscritas.push({
                                id: novaAtividade.id,
                                data: novaAtividade.data,
                                hora_inicio: novaAtividade.hora_inicio,
                                hora_fim: novaAtividade.hora_fim,
                                titulo: novaAtividade.titulo
                            });
                            
                            // Atualizar a interface para mostrar o bot√£o de cancelar
                            atualizarInterfaceAtividade(atividadeId, true);
                            
                            // Atualizar a contagem de vagas
                            if (vagasElement) {
                                const vagasText = vagasElement.textContent;
                                const match = vagasText.match(/(\d+)/);
                                if (match) {
                                    const vagas = parseInt(match[1]);
                                    if (vagas > 1) {
                                        vagasElement.textContent = (vagas - 1) + ' vagas restantes';
                                    } else {
                                        vagasElement.textContent = 'Esgotada';
                                        // Desabilitar outros bot√µes de inscri√ß√£o para esta atividade
                                        document.querySelectorAll(`.btn-inscrever-atividade[data-atividade-id="${atividadeId}"]`).forEach(btn => {
                                            btn.classList.add('btn-disabled');
                                            btn.disabled = true;
                                        });
                                    }
                                }
                            }
                            
                            // Atualizar conflitos

                            atualizarConflitos();
                            
                            // Atualizar a aba "Minhas Inscri√ß√µes"
                            setTimeout(() => {
                                document.querySelector('[data-tab="minhas"]').click();
                            }, 1500);
                        } else {
                            messageAtividade.innerHTML = `<div class="message erro">${data.message}</div>`;
                        }
                        
                        // Esconder a mensagem ap√≥s 5 segundos
                        setTimeout(() => {
                            messageAtividade.innerHTML = '';
                        }, 5000);
                    })
                    .catch(error => {
                        messageAtividade.innerHTML = `<div class="message erro">Erro: ${error}</div>`;
                    });
                });
                
                actionsDiv.appendChild(btnInscrever);

                // Atualizar contador de vagas
                if (vagasElement) {
                    const vagasText = vagasElement.textContent;
                    if (vagasText === 'Esgotada') {
                        vagasElement.textContent = '1 vaga restante';
                    } else {
                        const match = vagasText.match(/(\d+)/);
                        if (match) {
                            const vagas = parseInt(match[1]);
                            vagasElement.textContent = (vagas + 1) + ' vagas restantes';
                        }
                    }
                }
            }
            
            // Atualizar conflitos de hor√°rio
            atualizarConflitos();
        }



                // Adicione esta fun√ß√£o para atualizar a aba de minhas inscri√ß√µes
                function atualizarMinhasInscricoes() {
                    fetch('atividades_handler.php?action=carregar')
                    .then(response => response.text())
                    .then(html => {
                        document.getElementById('minhas-atividades').innerHTML = html;
                        // Reaplicar event listeners aos novos bot√µes
                        document.querySelectorAll('.btn-cancelar-atividade').forEach(button => {
                            button.addEventListener('click', cancelarInscricaoHandler);
                        });
                    })
                    .catch(error => {
                        console.error('Erro ao carregar inscri√ß√µes:', error);
                    });
                }
                
                // Vari√°vel para controlar se os campos de senha est√£o vis√≠veis
                let passwordFieldsVisible = false;

                // Edi√ß√£o de dados do usu√°rio
                const btnEditDados = document.getElementById('btnEditDados');
                const editForm = document.getElementById('editForm');
                const btnCancelEdit = document.getElementById('btnCancelEdit');
                const togglePassword = document.getElementById('togglePassword');
                const passwordFields = document.getElementById('passwordFields');
                const formEditarDados = document.getElementById('formEditarDados');
                const messageEditarDados = document.getElementById('messageEditarDados');

                // Elementos dos dados exibidos (com IDs espec√≠ficos)
                const infoNome = document.getElementById('info-nome');
                const infoEmail = document.getElementById('info-email');
                const infoTelefone = document.getElementById('info-telefone');
                const infoInstituicao = document.getElementById('info-instituicao');

                btnEditDados.addEventListener('click', () => {
                    editForm.style.display = 'block';
                    btnEditDados.style.display = 'none';
                    // Garantir que os campos de senha estejam ocultos ao abrir o formul√°rio
                    passwordFields.style.display = 'none';
                    passwordFieldsVisible = false;
                });

                btnCancelEdit.addEventListener('click', () => {
                    editForm.style.display = 'none';
                    btnEditDados.style.display = 'block';
                    passwordFields.style.display = 'none';
                    passwordFieldsVisible = false;
                    // Limpar campos de senha ao cancelar
                    document.getElementById('edit_senha_atual').value = '';
                    document.getElementById('edit_nova_senha').value = '';
                    document.getElementById('edit_confirmar_senha').value = '';
                });

                togglePassword.addEventListener('click', () => {
                    passwordFieldsVisible = !passwordFieldsVisible;
                    passwordFields.style.display = passwordFieldsVisible ? 'block' : 'none';
                });

                formEditarDados.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    // Se os campos de senha est√£o vis√≠veis, validar as senhas
                    if (passwordFieldsVisible) {
                        const senhaAtual = document.getElementById('edit_senha_atual').value;
                        const novaSenha = document.getElementById('edit_nova_senha').value;
                        const confirmarSenha = document.getElementById('edit_confirmar_senha').value;
                        
                        if (!senhaAtual) {
                            messageEditarDados.innerHTML = '<div class="message erro">Por favor, informe sua senha atual para alterar a senha.</div>';
                            return;
                        }
                        
                        if (novaSenha !== confirmarSenha) {
                            messageEditarDados.innerHTML = '<div class="message erro">A nova senha e a confirma√ß√£o n√£o coincidem.</div>';
                            return;
                        }
                        
                        if (novaSenha.length < 6) {
                            messageEditarDados.innerHTML = '<div class="message erro">A nova senha deve ter pelo menos 6 caracteres.</div>';
                            return;
                        }
                    }
                    
                    const formData = new FormData(this);
                    // Adicionar flag indicando se os campos de senha est√£o vis√≠veis
                    formData.append('senha_visible', passwordFieldsVisible ? '1' : '0');
                    
                    fetch('atividades_handler.php?action=editar_dados', {
                        method: 'POST',
                        body: formData
                    })
                    .then(response => response.json())
                    .then(data => {
                        if (data.success) {
                            messageEditarDados.innerHTML = `<div class="message sucesso">${data.message}</div>`;
                            
                            // Atualizar os dados exibidos usando os elementos com IDs espec√≠ficos
                            if (infoNome) infoNome.textContent = document.getElementById('edit_nome').value;
                            if (infoEmail) infoEmail.textContent = document.getElementById('edit_email').value;
                            
                            const telefoneValue = document.getElementById('edit_telefone').value;
                            if (infoTelefone) infoTelefone.textContent = telefoneValue || 'N√£o informado';
                            
                            if (infoInstituicao) infoInstituicao.textContent = document.getElementById('edit_instituicao').value;
                            
                            // Esconder o formul√°rio ap√≥s 2 segundos
                            setTimeout(() => {
                                editForm.style.display = 'none';
                                btnEditDados.style.display = 'block';
                                passwordFields.style.display = 'none';
                                passwordFieldsVisible = false;
                                messageEditarDados.innerHTML = '';
                                // Limpar campos de senha
                                document.getElementById('edit_senha_atual').value = '';
                                document.getElementById('edit_nova_senha').value = '';
                                document.getElementById('edit_confirmar_senha').value = '';
                            }, 2000);
                        } else {
                            messageEditarDados.innerHTML = `<div class="message erro">${data.message}</div>`;
                        }
                    })
                    .catch(error => {
                        messageEditarDados.innerHTML = `<div class="message erro">Erro: ${error}</div>`;
                    });
                });
                
                // Formata√ß√£o de CPF
                const cpfInput = document.getElementById('cpf');
                cpfInput.addEventListener('input', function(e) {
                    let value = e.target.value.replace(/\D/g, '');
                    if(value.length > 11) value = value.slice(0,11);
                    
                    if(value.length > 9) {
                        value = value.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/, '$1.$2.$3-$4');
                    } else if(value.length > 6) {
                        value = value.replace(/(\d{3})(\d{3})(\d+)/, '$1.$2.$3');
                    } else if(value.length > 3) {
                        value = value.replace(/(\d{3})(\d+)/, '$1.$2');
                    }
                    
                    e.target.value = value;
                });
                
                // Formata√ß√£o de telefone
                const telefoneInput = document.getElementById('edit_telefone');
                telefoneInput.addEventListener('input', function(e) {
                    let value = e.target.value.replace(/\D/g, '');
                    if(value.length > 11) value = value.slice(0,11);
                    
                    if(value.length > 10) {
                        value = value.replace(/(\d{2})(\d{5})(\d{4})/, '($1) $2-$3');
                    } else if(value.length > 6) {
                        value = value.replace(/(\d{2})(\d{4})(\d+)/, '($1) $2-$3');
                    } else if(value.length > 2) {
                        value = value.replace(/(\d{2})(\d+)/, '($1) $2');
                    } else if(value.length > 0) {
                        value = value.replace(/(\d+)/, '($1');
                    }
                    
                    e.target.value = value;
                });

    
        });
        
    </script>
</body>
</html>
